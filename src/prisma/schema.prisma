generator client {                                                                           
   provider = "prisma-client-js"                                                              
 }                                                                                            
                                                                                              
 datasource db {                                                                              
   provider = "postgresql"                                                                    
   url      = env("DATABASE_URL")                                                             
 }                                                                                            
                                                                                              
model User {                                                                                 
  id        String    @id @default(cuid())                                                    
  email     String    @unique                                                                 
  password  String                                                                           
  name      String?                                                                          
  company   String?                                                                          
  role      Role      @default(CUSTOMER)                                                      
  products  Product[] @relation("ProductEditor")
  createdAt DateTime  @default(now())                                                         
  updatedAt DateTime  @updatedAt                                                              
}                                                                                            

model Product {                                                                              
  id          String   @id @default(cuid())                                                  
  name        String                                                                         
  description String?                                                                        
  price       Float?
  unitSize    String                                                                          
  caseSize    String                                                                            
  imageUrl    String?                                                                        
  brand       Brand
  category    Category
  status      Status   @default(ACTIVE)
  editor      User?    @relation("ProductEditor", fields: [editorId], references: [id])
  editorId    String?
  createdAt   DateTime @default(now())                                                       
  updatedAt   DateTime @updatedAt                                                            
}                                                                                            

model Brand {
  id String @id @default(cuid())
  name String
  products Product[]
}

model Category {
  id String @id @default(cuid())
  name String
  products Product[]
}

enum Role {                                                                                  
  ADMIN                                                                                      
  CUSTOMER
  EMPLOYEE                                                                   
}

enum Status {
    ACTIVE
  DRAFT
  ARCHIVED
 } 
